(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3673:()=>{},3946:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},3980:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9742,23)),Promise.resolve().then(r.t.bind(r,3946,23)),Promise.resolve().then(r.t.bind(r,3673,23)),Promise.resolve().then(r.bind(r,5380))},5380:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,AuthProvider:()=>l});var s=r(5155),a=r(2115);let o="http://localhost:3001",n=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[u,i]=(0,a.useState)(null),[c,h]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("auth_user");e&&t&&(i(e),l(JSON.parse(t))),h(!1)},[]);let m=async(e,t)=>{try{let r=await fetch("".concat(o,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),s=await r.json();if(r.ok)return l(s.user),i(s.token),localStorage.setItem("auth_token",s.token),localStorage.setItem("auth_user",JSON.stringify(s.user)),{success:!0};return{success:!1,message:s.error||"Login failed"}}catch(e){return{success:!1,message:"Network error"}}},_=async e=>{try{let t=await fetch("".concat(o,"/api/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(t.ok)return l(r.user),i(r.token),localStorage.setItem("auth_token",r.token),localStorage.setItem("auth_user",JSON.stringify(r.user)),{success:!0};return{success:!1,message:r.error||"Signup failed"}}catch(e){return{success:!1,message:"Network error"}}};return(0,s.jsx)(n.Provider,{value:{user:r,token:u,login:m,signup:_,logout:()=>{l(null),i(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")},loading:c},children:t})}function u(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9742:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}}},e=>{e.O(0,[668,441,255,358],()=>e(e.s=3980)),_N_E=e.O()}]);